<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather_Map</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css' rel='stylesheet' />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script src="JS/keys.js"></script>
</head>
<body>
<h1>Weather App</h1>
<label for="searchBox">Location: </label>
<input type="input" id="searchBox" placeholder="city, state">
<button id="searchID">Search</button>
<br>
<br>
<div class="container">
    <div id="weatherBody1"></div>
    <div id="weatherBody2"></div>
    <div id="weatherBody3"></div>
    <div id="weatherBody4"></div>
    <div id="weatherBody5"></div>
</div>
<br>
<div id="mapBox" style="width: 100%; height: 500px; border-radius: 2%;"></div>
<script>

    // viva restaurant 29.936431395067164, -95.58032350294637
    //url syntax example: https://api.openweathermap.org/data/3.0/onecall?lat={lat}&lon={lon}&exclude={part}&appid={API key}
    const myWeatherAPI = `https://api.openweathermap.org/data/2.5/forecast?lat=${29.936431395067164}&lon=${-95.58032350294637}&appid=${myWeatherMapKey}`;
    console.log(myWeatherAPI);

    mapboxgl.accessToken = myMapBoxKey;
    const map = new mapboxgl.Map({
        container: 'mapBox',
        style: 'mapbox://styles/minhnguyen8989/clf2z972u004701pbfxi4p5p3',
        center: [-95.35, 29.74],
        zoom: 9,
    });

    $.get(myWeatherAPI).done(function (jsondata){
        let addHTML = '';
        addHTML += "<h1>" + jsondata.list[0].dt_txt + "</h1>"
        addHTML += "<h3>Temp: min " + jsondata.list[0].main.temp_min + "/" + jsondata.list[0].main.temp_max + " max</h3>"
        addHTML += "<h4>Description: " + jsondata.list[0].weather[0].description + "</h4>"
        addHTML += "<h4>Humidity: " + jsondata.list[0].main.humidity + "</h4>"
        addHTML += "<h4>Wind Speed: " + jsondata.list[0].wind.speed + "</h4>"
        addHTML += "<h4>Pressure: " + jsondata.list[0].main.pressure + "</h4>"

        $("#weatherBody1").html(addHTML)
    })



//TODO
//push data from weather API to 5 days
//make search box function.



</script>
</body>
</html>